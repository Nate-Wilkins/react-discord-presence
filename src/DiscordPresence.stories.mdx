import { Meta, Description, Story } from '@storybook/addon-docs';
import ImageAvatar from '../test/avatar.gif';
import ImageBanner from '../test/banner.jpeg';
import { MockDiscordPresence } from './MockDiscordPresence';

<Meta title="DiscordPresence" component={MockDiscordPresence}
  argTypes={{
    state: {
      // NOTE: When updating 'DiscordPresence' storybook controls for 'state' from 'error'
      //       it won't update in a development build because 'ErrorBoundary' won't swallow the error.
      defaultValue: 'actual',
      options: ['actual', 'happy', 'error', 'load'],
      control: { type: 'radio' }
    },
    developerId: {
      defaultValue: "194976024457510912",
      control: { type: 'text' },
    }
  }}
/>

export const Template = (args) => (
  <div style={{ fontSize: '16px' }}>
    <MockDiscordPresence
      args={{ developerId: args.developerId }}
      formatBannerImageSrc={() => ImageBanner}
      formatAvatarImageSrc={() => ImageAvatar}
      {...args }
    />
  </div>
);

# DiscordPresence

Self contained Discord presence which handles:
- Loading Discord data along with displaying a loading indicator.
- Errors that occur during loading along with displaying an error indicator.
- Caching Discord presence data.
- Displaying Discord presence data.

<Story name="DiscordPresence" args={{
  data: {
    memberSince: new Date('10/19/2022'),
  }
}}>
  {Template.bind({})}
</Story>